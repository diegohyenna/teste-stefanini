<div class="container mx-auto p-4">
  <h1 class="font-bold flex justify-between mb-4 text-xl text-gray-900">
    Criar Novo Baralho
    <button
      class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
      (click)="goBack()"
    >
      Voltar
    </button>
  </h1>

  <div
    class="mb-4 w-full max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow sm:p-6 md:p-8"
  >
    <div>
      <label for="search" class="block mb-2 text-sm font-medium text-gray-900"
        >Pesquisar Cartas</label
      >

      <input
        id="search"
        [(ngModel)]="searchCard"
        name="search"
        required
        class="mb-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
      />
    </div>
    <button
      type="button"
      class="w-full text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
      (click)="searchCards(searchCard)"
    >
      Pesquisar
    </button>
  </div>
  <div class="flex">
    <div class="mr-7 w-2/4">
      <h2 class="text-xl font-bold mb-2">Cartas Dispon√≠veis</h2>
      <app-loading *ngIf="loading"></app-loading>
      <div
        class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4"
        *ngIf="!loading"
      >
        <div *ngFor="let card of allCards" class="border p-2 text-center">
          <img
            [src]="card.images.small"
            alt="{{ card.name }}"
            class="mx-auto"
          />
          <h3 class="text-sm">{{ card.name }}</h3>
          <button
            type="button"
            class="bg-green-500 text-white px-2 py-1 mt-2"
            (click)="addCard(card)"
          >
            Adicionar
          </button>
        </div>
      </div>
    </div>
    <div
      class="bg-slate-100 rounded p-4 w-2/4 mb-4 border border-gray-200 rounded-lg shadow"
    >
      <h2 class="text-xl font-bold mb-5 text-gray-900">Criar Baralho</h2>
      <form (ngSubmit)="saveDeck()">
        <div class="mb-4">
          <label for="name" class="block mb-2 text-sm font-medium text-gray-900"
            >Nome do Baralho</label
          >
          <input
            id="name"
            [(ngModel)]="deckName"
            name="name"
            required
            class="mb-4 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"
          />
        </div>
        <button type="submit" class="bg-green-500 rounded text-white px-4 py-2">
          Salvar Baralho
        </button>
      </form>
      <hr class="border-1 my-5" />
      <h2 class="text-xl font-bold mb-2">
        Cartas selecionadas: {{ selectedCards.length }}
      </h2>
      <div
        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"
        *ngIf="!loading"
      >
        <div
          *ngFor="let card of selectedCards; let i = index"
          class="p-2 text-center rounded bg-white"
        >
          <img
            [src]="card.images.small"
            alt="{{ card.name }}"
            class="mx-auto"
          />
          <h3 class="text-sm">{{ card.name }}</h3>
          <button
            type="button"
            class="bg-red-500 text-white px-2 py-1 mt-2"
            (click)="removeCard(i)"
          >
            Remover
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
